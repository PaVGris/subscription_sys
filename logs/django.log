INFO 2025-12-17 10:58:37,495 autoreload 18224 19652 Watching for file changes with StatReloader
INFO 2025-12-17 11:01:01,835 autoreload 1884 20224 Watching for file changes with StatReloader
INFO 2025-12-17 11:02:06,500 autoreload 23912 22116 Watching for file changes with StatReloader
WARNING 2025-12-17 11:02:18,325 log 23912 18108 Not Found: /
WARNING 2025-12-17 11:02:18,325 log 23912 18108 "GET / HTTP/1.1" 404 2451
WARNING 2025-12-17 11:03:09,153 log 23912 18108 Forbidden: /api/subscriptions/
WARNING 2025-12-17 11:03:09,154 log 23912 18108 "GET /api/subscriptions/ HTTP/1.1" 403 5070
INFO 2025-12-17 11:03:09,454 log 23912 21992 "GET /static/rest_framework/css/prettify.css HTTP/1.1" 200 817
INFO 2025-12-17 11:03:09,454 log 23912 11272 "GET /static/rest_framework/css/default.css HTTP/1.1" 200 1152
INFO 2025-12-17 11:03:09,455 log 23912 20816 "GET /static/rest_framework/css/bootstrap-tweaks.css HTTP/1.1" 200 3385
INFO 2025-12-17 11:03:09,459 log 23912 18108 "GET /static/rest_framework/css/bootstrap.min.css HTTP/1.1" 200 121457
INFO 2025-12-17 11:03:09,472 log 23912 9800 "GET /static/rest_framework/js/ajax-form.js HTTP/1.1" 200 3597
INFO 2025-12-17 11:03:09,518 log 23912 18108 "GET /static/rest_framework/img/grid.png HTTP/1.1" 200 1458
INFO 2025-12-17 11:03:09,522 log 23912 9800 "GET /static/rest_framework/js/default.js HTTP/1.1" 200 1268
INFO 2025-12-17 11:03:09,525 log 23912 21992 "GET /static/rest_framework/js/csrf.js HTTP/1.1" 200 1719
INFO 2025-12-17 11:03:09,528 log 23912 19968 "GET /static/rest_framework/js/jquery-3.5.1.min.js HTTP/1.1" 200 89476
INFO 2025-12-17 11:03:09,541 log 23912 20816 "GET /static/rest_framework/js/prettify-min.js HTTP/1.1" 200 13632
INFO 2025-12-17 11:03:09,551 log 23912 11272 "GET /static/rest_framework/js/bootstrap.min.js HTTP/1.1" 200 39680
WARNING 2025-12-17 12:54:41,144 log 23912 12256 Forbidden: /api/plans/
WARNING 2025-12-17 12:54:41,145 log 23912 12256 "GET /api/plans/ HTTP/1.1" 403 82
INFO 2025-12-17 12:57:04,102 autoreload 9108 20124 Watching for file changes with StatReloader
INFO 2025-12-17 12:57:08,362 log 9108 19552 "GET /admin/ HTTP/1.1" 302 0
INFO 2025-12-17 12:57:08,554 log 9108 19552 "GET /admin/login/?next=/admin/ HTTP/1.1" 200 4282
INFO 2025-12-17 12:57:08,737 log 9108 9260 "GET /static/admin/css/dark_mode.css HTTP/1.1" 200 3538
INFO 2025-12-17 12:57:08,737 log 9108 19552 "GET /static/admin/css/base.css HTTP/1.1" 200 23100
INFO 2025-12-17 12:57:08,755 log 9108 23912 "GET /static/admin/js/theme.js HTTP/1.1" 200 1653
INFO 2025-12-17 12:57:08,776 log 9108 9260 "GET /static/admin/css/login.css HTTP/1.1" 200 951
INFO 2025-12-17 12:57:08,778 log 9108 23912 "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 200 2810
INFO 2025-12-17 12:57:08,778 log 9108 19552 "GET /static/admin/css/responsive.css HTTP/1.1" 200 16194
INFO 2025-12-17 12:57:09,008 log 9108 19552 "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 200 3063
INFO 2025-12-17 12:57:22,424 log 9108 19552 "POST /admin/login/?next=/admin/ HTTP/1.1" 302 0
INFO 2025-12-17 12:57:22,471 log 9108 19552 "GET /admin/ HTTP/1.1" 200 6482
INFO 2025-12-17 12:57:22,517 log 9108 19552 "GET /static/admin/css/dashboard.css HTTP/1.1" 200 441
INFO 2025-12-17 12:57:22,559 log 9108 19552 "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 593
INFO 2025-12-17 12:57:22,560 log 9108 23912 "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 978
INFO 2025-12-17 12:57:52,798 log 9108 23912 "GET /admin/auth/group/add/ HTTP/1.1" 200 14664
INFO 2025-12-17 12:57:52,848 log 9108 23912 "GET /static/admin/css/forms.css HTTP/1.1" 200 8844
INFO 2025-12-17 12:57:52,859 log 9108 21864 "GET /static/admin/js/jquery.init.js HTTP/1.1" 200 347
INFO 2025-12-17 12:57:52,876 log 9108 14924 "GET /static/admin/js/core.js HTTP/1.1" 200 6208
INFO 2025-12-17 12:57:52,878 log 9108 21864 "GET /static/admin/css/widgets.css HTTP/1.1" 200 11811
INFO 2025-12-17 12:57:52,882 log 9108 23912 "GET /static/admin/js/SelectBox.js HTTP/1.1" 200 4530
INFO 2025-12-17 12:57:52,882 log 9108 3652 "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 9777
INFO 2025-12-17 12:57:52,891 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 12:57:52,912 log 9108 21864 "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 200 16428
INFO 2025-12-17 12:57:52,913 log 9108 23912 "GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1531
INFO 2025-12-17 12:57:52,914 log 9108 14924 "GET /static/admin/js/actions.js HTTP/1.1" 200 8076
INFO 2025-12-17 12:57:52,915 log 9108 3652 "GET /static/admin/js/urlify.js HTTP/1.1" 200 7887
INFO 2025-12-17 12:57:52,937 log 9108 9260 "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 285314
INFO 2025-12-17 12:57:52,959 log 9108 21864 "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 586
INFO 2025-12-17 12:57:52,979 log 9108 21864 "GET /static/admin/js/change_form.js HTTP/1.1" 200 606
INFO 2025-12-17 12:57:53,082 log 9108 19552 "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 325171
INFO 2025-12-17 12:57:53,235 log 9108 19552 "GET /static/admin/img/search.svg HTTP/1.1" 200 607
INFO 2025-12-17 12:57:53,237 log 9108 21864 "GET /static/admin/img/selector-icons.svg HTTP/1.1" 200 2387
INFO 2025-12-17 12:58:01,117 log 9108 21864 "GET /admin/ HTTP/1.1" 200 6482
WARNING 2025-12-17 12:59:03,729 log 9108 3676 Forbidden: /api/plans/
WARNING 2025-12-17 12:59:03,730 log 9108 3676 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 12:59:17,386 log 9108 3676 Forbidden: /api/plans/
WARNING 2025-12-17 12:59:17,387 log 9108 3676 "GET /api/plans/ HTTP/1.1" 403 82
INFO 2025-12-17 12:59:27,769 log 9108 21864 "GET /admin/auth/user/add/ HTTP/1.1" 200 13445
INFO 2025-12-17 12:59:27,839 log 9108 19552 "GET /static/admin/css/unusable_password_field.css HTTP/1.1" 200 663
INFO 2025-12-17 12:59:27,890 log 9108 21864 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 12:59:30,126 log 9108 21864 "GET /admin/auth/group/add/ HTTP/1.1" 200 14664
INFO 2025-12-17 12:59:30,159 log 9108 21864 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 12:59:53,302 log 9108 21864 "POST /admin/auth/group/add/ HTTP/1.1" 302 0
INFO 2025-12-17 12:59:53,415 log 9108 21864 "GET /admin/auth/group/ HTTP/1.1" 200 10273
INFO 2025-12-17 12:59:53,451 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 12:59:53,457 log 9108 21864 "GET /static/admin/css/changelists.css HTTP/1.1" 200 7501
INFO 2025-12-17 12:59:53,614 log 9108 19552 "GET /static/admin/js/filters.js HTTP/1.1" 200 978
INFO 2025-12-17 12:59:53,700 log 9108 21864 "GET /static/admin/img/icon-yes-dark.svg HTTP/1.1" 200 558
INFO 2025-12-17 12:59:53,795 log 9108 19552 "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 593
WARNING 2025-12-17 12:59:59,517 log 9108 3676 Forbidden: /api/plans/
WARNING 2025-12-17 12:59:59,517 log 9108 3676 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 13:00:00,590 log 9108 3676 Forbidden: /api/plans/
WARNING 2025-12-17 13:00:00,590 log 9108 3676 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 13:01:00,974 log 9108 19552 Not Found: /
WARNING 2025-12-17 13:01:00,974 log 9108 19552 "GET / HTTP/1.1" 404 2451
INFO 2025-12-17 13:01:54,526 log 9108 19552 "GET /admin/ HTTP/1.1" 200 6860
INFO 2025-12-17 13:01:58,653 log 9108 19552 "GET /admin/auth/group/1/change/ HTTP/1.1" 200 15295
INFO 2025-12-17 13:01:58,688 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:02:06,211 log 9108 19552 "GET /admin/auth/group/1/history/ HTTP/1.1" 200 7278
INFO 2025-12-17 13:02:08,471 log 9108 19552 "GET /admin/auth/group/1/change/ HTTP/1.1" 200 15295
INFO 2025-12-17 13:02:11,035 log 9108 19552 "GET /admin/auth/user/add/ HTTP/1.1" 200 13445
INFO 2025-12-17 13:02:11,066 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:02:25,787 log 9108 19552 "POST /admin/auth/user/add/ HTTP/1.1" 200 14197
INFO 2025-12-17 13:02:25,810 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:02:46,372 log 9108 19552 "POST /admin/auth/user/add/ HTTP/1.1" 200 13959
INFO 2025-12-17 13:02:46,399 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:03:05,157 log 9108 19552 "POST /admin/auth/user/add/ HTTP/1.1" 200 13959
INFO 2025-12-17 13:03:05,186 log 9108 19552 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:03:24,347 log 9108 18936 "POST /admin/auth/user/add/ HTTP/1.1" 200 14018
INFO 2025-12-17 13:03:24,373 log 9108 18936 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:03:34,861 log 9108 18936 "POST /admin/auth/user/add/ HTTP/1.1" 200 13766
INFO 2025-12-17 13:03:34,881 log 9108 18936 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:03:51,367 log 9108 18936 "GET /admin/password_change/ HTTP/1.1" 200 8281
INFO 2025-12-17 13:03:56,683 log 9108 18936 "POST /admin/auth/user/add/ HTTP/1.1" 200 14018
INFO 2025-12-17 13:03:56,726 log 9108 18936 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:04:30,818 log 9108 18936 "GET /admin/auth/user/ HTTP/1.1" 200 13633
INFO 2025-12-17 13:04:30,859 log 9108 18936 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:04:30,873 log 9108 23464 "GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 558
INFO 2025-12-17 13:04:30,895 log 9108 23464 "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 200 928
INFO 2025-12-17 13:04:30,900 log 9108 18936 "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 200 1761
INFO 2025-12-17 13:04:31,014 log 9108 18936 "GET /admin/auth/user/ HTTP/1.1" 200 13633
INFO 2025-12-17 13:04:31,142 log 9108 18936 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:04:39,909 log 9108 18936 "GET /admin/auth/user/2/change/ HTTP/1.1" 200 26605
INFO 2025-12-17 13:04:39,941 log 9108 18936 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:04:39,965 log 9108 23464 "GET /static/admin/js/calendar.js HTTP/1.1" 200 9159
INFO 2025-12-17 13:04:39,965 log 9108 20780 "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 200 19698
INFO 2025-12-17 13:04:40,038 log 9108 23464 "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 200 1112
INFO 2025-12-17 13:04:40,039 log 9108 20780 "GET /static/admin/img/icon-clock.svg HTTP/1.1" 200 805
INFO 2025-12-17 13:04:55,321 log 9108 23464 "POST /admin/auth/user/2/change/ HTTP/1.1" 302 0
INFO 2025-12-17 13:04:55,337 log 9108 23464 "GET /admin/auth/user/ HTTP/1.1" 200 13854
INFO 2025-12-17 13:04:55,371 log 9108 23464 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:04:56,685 log 9108 23464 "GET /admin/auth/user/2/change/ HTTP/1.1" 200 27046
INFO 2025-12-17 13:04:56,713 log 9108 23464 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:05:00,365 log 9108 23464 "GET /admin/auth/user/ HTTP/1.1" 200 13633
INFO 2025-12-17 13:05:02,596 log 9108 23464 "GET /admin/auth/user/2/change/ HTTP/1.1" 200 27046
INFO 2025-12-17 13:05:02,624 log 9108 23464 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:05:05,298 log 9108 23464 "GET /admin/auth/user/ HTTP/1.1" 200 13633
INFO 2025-12-17 13:05:06,331 log 9108 23464 "GET /admin/auth/user/1/change/ HTTP/1.1" 200 26568
INFO 2025-12-17 13:05:06,365 log 9108 23464 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
INFO 2025-12-17 13:05:08,305 log 9108 23464 "GET /admin/auth/user/ HTTP/1.1" 200 13633
WARNING 2025-12-17 13:05:12,748 log 9108 15112 Forbidden: /api/plans/
WARNING 2025-12-17 13:05:12,748 log 9108 15112 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 13:05:13,932 log 9108 15112 Forbidden: /api/plans/
WARNING 2025-12-17 13:05:13,932 log 9108 15112 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 13:05:14,787 log 9108 15112 Forbidden: /api/plans/
WARNING 2025-12-17 13:05:14,787 log 9108 15112 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 13:05:16,110 log 9108 15112 Forbidden: /api/plans/
WARNING 2025-12-17 13:05:16,110 log 9108 15112 "GET /api/plans/ HTTP/1.1" 403 82
INFO 2025-12-17 13:05:20,854 log 9108 23464 "GET /admin/auth/user/2/change/ HTTP/1.1" 200 27046
INFO 2025-12-17 13:05:20,882 log 9108 23464 "GET /admin/jsi18n/ HTTP/1.1" 200 16820
WARNING 2025-12-17 13:06:55,722 log 9108 23480 Forbidden: /api/plans/
WARNING 2025-12-17 13:06:55,723 log 9108 23480 "GET /api/plans/ HTTP/1.1" 403 82
WARNING 2025-12-17 13:06:56,821 log 9108 23480 Forbidden: /api/plans/
WARNING 2025-12-17 13:06:56,822 log 9108 23480 "GET /api/plans/ HTTP/1.1" 403 82
INFO 2025-12-17 13:09:07,178 autoreload 9108 20124 D:\subscription_sys\config\settings.py changed, reloading.
INFO 2025-12-17 13:09:09,033 autoreload 19448 20856 Watching for file changes with StatReloader
ERROR 2025-12-17 13:09:18,541 log 19448 6240 Internal Server Error: /api/plans/
Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 359, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: plans

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\base.py", line 198, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\pagination.py", line 204, in paginate_queryset
    self.page = paginator.page(page_number)
                ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 177, in page
    number = self.validate_number(number)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 160, in validate_number
    return self._validate_number(number, self.num_pages)
                                         ^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 195, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 189, in count
    return c()
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\query.py", line 610, in count
    return self.query.get_count(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\query.py", line 651, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\query.py", line 633, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1624, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 359, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: plans
ERROR 2025-12-17 13:09:18,556 log 19448 6240 "GET /api/plans/ HTTP/1.1" 500 200840
ERROR 2025-12-17 13:09:28,198 log 19448 13828 Internal Server Error: /api/plans/
Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 359, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: plans

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\base.py", line 198, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\pagination.py", line 204, in paginate_queryset
    self.page = paginator.page(page_number)
                ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 177, in page
    number = self.validate_number(number)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 160, in validate_number
    return self._validate_number(number, self.num_pages)
                                         ^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 195, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\paginator.py", line 189, in count
    return c()
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\query.py", line 610, in count
    return self.query.get_count(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\query.py", line 651, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\query.py", line 633, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1624, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 359, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: plans
ERROR 2025-12-17 13:09:28,209 log 19448 13828 "GET /api/plans/ HTTP/1.1" 500 202829
INFO 2025-12-17 13:12:48,719 autoreload 19448 20856 D:\subscription_sys\config\settings.py changed, reloading.
INFO 2025-12-17 13:12:49,639 autoreload 9012 21184 Watching for file changes with StatReloader
INFO 2025-12-17 13:18:32,146 autoreload 12664 4984 Watching for file changes with StatReloader
WARNING 2025-12-17 13:18:55,178 log 9012 17596 Forbidden: /api/plans/
WARNING 2025-12-17 13:18:55,178 log 9012 17596 "GET /api/plans/ HTTP/1.1" 403 4976
INFO 2025-12-17 13:18:55,224 log 9012 1820 "GET /static/rest_framework/css/bootstrap-tweaks.css HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,225 log 9012 17596 "GET /static/rest_framework/css/bootstrap.min.css HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,229 log 9012 20140 "GET /static/rest_framework/css/prettify.css HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,231 log 9012 22316 "GET /static/rest_framework/css/default.css HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,232 log 9012 1820 "GET /static/rest_framework/js/csrf.js HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,233 log 9012 24820 "GET /static/rest_framework/js/jquery-3.5.1.min.js HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,234 log 9012 17596 "GET /static/rest_framework/js/bootstrap.min.js HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,234 log 9012 20140 "GET /static/rest_framework/js/prettify-min.js HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,235 log 9012 24816 "GET /static/rest_framework/js/ajax-form.js HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,235 log 9012 22316 "GET /static/rest_framework/js/default.js HTTP/1.1" 304 0
INFO 2025-12-17 13:18:55,300 log 9012 22316 "GET /static/rest_framework/img/grid.png HTTP/1.1" 304 0
WARNING 2025-12-17 13:19:07,654 log 9012 24720 Forbidden: /api/plans/
WARNING 2025-12-17 13:19:07,655 log 9012 24720 "GET /api/plans/ HTTP/1.1" 403 231
INFO 2025-12-17 13:19:51,448 log 9012 22316 "GET /admin/ HTTP/1.1" 302 0
INFO 2025-12-17 13:19:51,603 log 9012 22316 "GET /admin/login/?next=/admin/ HTTP/1.1" 200 4282
INFO 2025-12-17 13:20:00,766 log 9012 22316 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4563
INFO 2025-12-17 13:21:12,542 autoreload 25228 25232 Watching for file changes with StatReloader
INFO 2025-12-17 13:21:28,176 log 25228 25088 "POST /admin/login/?next=/admin/ HTTP/1.1" 302 0
INFO 2025-12-17 13:21:28,238 log 25228 25088 "GET /admin/ HTTP/1.1" 200 6482
INFO 2025-12-17 13:21:37,984 log 25228 25088 "GET /api/plans/ HTTP/1.1" 200 7339
INFO 2025-12-17 13:21:38,146 log 25228 25088 "GET /static/rest_framework/fonts/glyphicons-halflings-regular.woff2 HTTP/1.1" 200 18028
INFO 2025-12-17 13:21:40,180 log 25228 25088 "GET /api/plans/ HTTP/1.1" 200 7339
INFO 2025-12-17 13:22:25,407 log 25228 19300 "GET /api/plans/ HTTP/1.1" 200 52
WARNING 2025-12-17 13:22:52,379 log 25228 19300 Method Not Allowed: /api/plans/
WARNING 2025-12-17 13:22:52,379 log 25228 19300 "POST /api/plans/ HTTP/1.1" 405 55
ERROR 2025-12-17 13:23:44,983 views 25228 19300 Plan 1 not found
WARNING 2025-12-17 13:23:44,984 log 25228 19300 Not Found: /api/subscriptions/
WARNING 2025-12-17 13:23:44,984 log 25228 19300 "POST /api/subscriptions/ HTTP/1.1" 404 26
WARNING 2025-12-17 13:24:25,601 log 25228 19300 Method Not Allowed: /api/plans/
WARNING 2025-12-17 13:24:25,601 log 25228 19300 "POST /api/plans/ HTTP/1.1" 405 55
INFO 2025-12-17 13:26:13,727 autoreload 24876 25276 Watching for file changes with StatReloader
INFO 2025-12-17 13:26:22,169 log 24876 25576 "POST /api/plans/ HTTP/1.1" 201 175
ERROR 2025-12-17 13:27:01,628 redis 24876 25576 Connection to Redis lost: Retry (0/20) now.
ERROR 2025-12-17 13:27:05,715 redis 24876 25576 Connection to Redis lost: Retry (1/20) in 1.00 second.
ERROR 2025-12-17 13:27:10,781 redis 24876 25576 Connection to Redis lost: Retry (2/20) in 1.00 second.
ERROR 2025-12-17 13:27:15,872 redis 24876 25576 Connection to Redis lost: Retry (3/20) in 1.00 second.
ERROR 2025-12-17 13:27:20,907 redis 24876 25576 Connection to Redis lost: Retry (4/20) in 1.00 second.
ERROR 2025-12-17 13:27:25,978 redis 24876 25576 Connection to Redis lost: Retry (5/20) in 1.00 second.
ERROR 2025-12-17 13:27:31,077 redis 24876 25576 Connection to Redis lost: Retry (6/20) in 1.00 second.
INFO 2025-12-17 13:27:33,660 log 24876 25576 "POST /api/subscriptions/ HTTP/1.1" 201 607
WARNING 2025-12-17 13:28:09,508 log 24876 21320 Bad Request: /api/payment-methods/
WARNING 2025-12-17 13:28:09,509 log 24876 21320 "POST /api/payment-methods/ HTTP/1.1" 400 51
INFO 2025-12-17 13:29:54,347 autoreload 24876 25276 D:\subscription_sys\apps\subscriptions\views.py changed, reloading.
INFO 2025-12-17 13:29:55,321 autoreload 19492 21036 Watching for file changes with StatReloader
INFO 2025-12-17 13:32:39,709 autoreload 19492 21036 D:\subscription_sys\apps\payments\models.py changed, reloading.
INFO 2025-12-17 13:32:40,624 autoreload 8632 4616 Watching for file changes with StatReloader
INFO 2025-12-17 13:35:31,897 autoreload 22416 25224 Watching for file changes with StatReloader
ERROR 2025-12-17 13:35:47,009 log 22416 20212 Internal Server Error: /api/payment-methods/
Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\base.py", line 198, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 227, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 426, in run_validation
    value = self.to_internal_value(data)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 479, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 362, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 356, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 1076, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 1222, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 1340, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `provider_customer_id` is not valid for model `PaymentMethodRef`.
ERROR 2025-12-17 13:35:47,015 log 22416 20212 "POST /api/payment-methods/ HTTP/1.1" 500 149528
ERROR 2025-12-17 13:35:56,686 log 22416 25196 Internal Server Error: /api/payment-methods/
Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\base.py", line 221, in _get_response
    response = response.render()
  File "D:\subscription_sys\.venv\Lib\site-packages\django\template\response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\renderers.py", line 723, in render
    context = self.get_context(data, accepted_media_type, renderer_context)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\renderers.py", line 654, in get_context
    raw_data_post_form = self.get_raw_data_form(data, view, 'POST', request)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\renderers.py", line 562, in get_raw_data_form
    data = serializer.data.copy()
           ^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 555, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 257, in data
    self._data = self.get_initial()
                 ~~~~~~~~~~~~~~~~^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 405, in get_initial
    for field in self.fields.values()
                 ^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 356, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 1076, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 1222, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 1340, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `provider_customer_id` is not valid for model `PaymentMethodRef`.
ERROR 2025-12-17 13:35:56,690 log 22416 25196 "GET /api/payment-methods/ HTTP/1.1" 500 140675
INFO 2025-12-17 13:40:07,185 autoreload 22416 25224 D:\subscription_sys\apps\payments\serializers.py changed, reloading.
INFO 2025-12-17 13:40:08,059 autoreload 18968 12048 Watching for file changes with StatReloader
INFO 2025-12-17 13:40:13,657 log 18968 24760 "POST /api/payment-methods/ HTTP/1.1" 201 192
WARNING 2025-12-17 13:40:49,933 log 18968 24760 Method Not Allowed: /api/payments/
WARNING 2025-12-17 13:40:49,933 log 18968 24760 "POST /api/payments/ HTTP/1.1" 405 55
INFO 2025-12-17 13:42:30,127 autoreload 18968 12048 D:\subscription_sys\apps\payments\views.py changed, reloading.
INFO 2025-12-17 13:42:31,002 autoreload 21552 26356 Watching for file changes with StatReloader
WARNING 2025-12-17 13:42:37,275 log 21552 25716 Bad Request: /api/payments/
WARNING 2025-12-17 13:42:37,275 log 21552 25716 "POST /api/payments/ HTTP/1.1" 400 50
INFO 2025-12-17 13:45:50,771 autoreload 21552 26356 D:\subscription_sys\apps\payments\models.py changed, reloading.
INFO 2025-12-17 13:45:52,054 autoreload 10280 25908 Watching for file changes with StatReloader
INFO 2025-12-17 13:47:09,036 autoreload 10280 25908 D:\subscription_sys\apps\payments\models.py changed, reloading.
INFO 2025-12-17 13:47:09,954 autoreload 22868 21132 Watching for file changes with StatReloader
INFO 2025-12-17 13:47:47,674 autoreload 25612 18664 Watching for file changes with StatReloader
INFO 2025-12-17 14:03:52,655 autoreload 20764 14152 Watching for file changes with StatReloader
INFO 2025-12-17 14:06:12,735 autoreload 25720 22924 Watching for file changes with StatReloader
ERROR 2025-12-17 14:07:45,163 log 25720 13828 Internal Server Error: /api/payments/
Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 359, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: payments.user_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\core\handlers\base.py", line 198, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\rest_framework\serializers.py", line 962, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\query.py", line 669, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\base.py", line 874, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\base.py", line 966, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\base.py", line 1167, in _save_table
    results = self._do_insert(
        cls._base_manager, using, insert_fields, returning_fields, raw
    )
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\base.py", line 1218, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\query.py", line 1918, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1925, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\utils.py", line 94, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\subscription_sys\.venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 359, in execute
    return super().execute(query, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: payments.user_id
ERROR 2025-12-17 14:07:45,177 log 25720 13828 "POST /api/payments/ HTTP/1.1" 500 225979
INFO 2025-12-17 14:09:39,831 autoreload 25720 22924 D:\subscription_sys\apps\payments\serializers.py changed, reloading.
INFO 2025-12-17 14:09:40,701 autoreload 21904 19328 Watching for file changes with StatReloader
INFO 2025-12-17 14:09:45,608 log 21904 22512 "POST /api/payments/ HTTP/1.1" 201 263
INFO 2025-12-17 14:14:09,430 autoreload 21904 19328 D:\subscription_sys\core\services\subscription_service.py changed, reloading.
INFO 2025-12-17 14:14:10,364 autoreload 26468 22592 Watching for file changes with StatReloader
INFO 2025-12-17 14:21:03,801 autoreload 26468 22592 D:\subscription_sys\core\services\billing_service.py changed, reloading.
INFO 2025-12-17 14:21:04,559 autoreload 25100 22536 Watching for file changes with StatReloader
INFO 2025-12-18 18:58:41,307 autoreload 19780 19508 Watching for file changes with StatReloader
WARNING 2025-12-18 18:58:46,085 log 19780 2912 Not Found: /
WARNING 2025-12-18 18:58:46,085 log 19780 2912 "GET / HTTP/1.1" 404 2451
WARNING 2025-12-18 18:58:46,464 log 19780 2912 Not Found: /favicon.ico
WARNING 2025-12-18 18:58:46,465 log 19780 2912 "GET /favicon.ico HTTP/1.1" 404 2502
